<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<title>XParty</title>
        <script type="text/javascript" src="https://www.google.com/jsapi"></script>
        <script type="text/javascript" src="../jquery/jquery-1.9.1.min.js"></script>
        <script type="text/javascript" src="../d3.v3/d3.v3.js" charset="utf-8"></script>
        <script type="text/javascript" src="../keshif.js" charset="utf-8"></script>
        <link rel="stylesheet" href="../keshif.css"/ type="text/css">

        <script type="text/javascript" src="moment.min.js" charset="utf-8"></script>
        <script type="text/javascript">


var stopWords = {
    january: null,
    february: null,
    march: null,
    april: null,
    may: null,
    june: null,
    july: null,
    august: null,
    september: null,
    october: null,
    november: null,
    december: null,
    monday: null,
    tuesday: null,
    wednesday: null,
    thursday: null,
    friday: null,
    saturday: null,
    a: null,
    b: null,
    c: null,
    d: null,
    e: null,
    f: null,
    g: null,
    h: null,
    i: null,
    j: null,
    k: null,
    l: null,
    m: null,
    n: null,
    o: null,
    p: null,
    q: null,
    r: null,
    s: null,
    t: null,
    u: null,
    v: null,
    w: null,
    x: null,
    y: null,
    z: null,
    ve: null,
    ll: null,
    re: null,
    th: null,
    rd: null,
    st: null,
    doing: null,
    allow: null,
    examining: null,
    using: null,
    during: null,
    within: null,
    across: null,
    among: null,
    whether: null,
    especially: null,
    without: null,
    actually: null,
    another: null,
    am: null,
    because: null,
    cannot: null,
    the: null,
    of: null,
    to: null,
    and: null,
    a: null,
    in: null,
    is: null,
    it: null,
    you: null,
    that: null,
    he: null,
    was: null,
    for: null,
    on: null,
    are: null,
    with: null,
    as: null,
    I: null,
    his: null,
    they: null,
    be: null,
    at: null,
    one: null,
    have: null,
    this: null,
    from: null,
    or: null,
    had: null,
    by: null,
    hot: null,
    word: null,
    but: null,
    what: null,
    some: null,
    we: null,
    yet: null,
    can: null,
    out: null,
    other: null,
    were: null,
    all: null,
    there: null,
    when: null,
    up: null,
    use: null,
    your: null,
    how: null,
    said: null,
    an: null,
    each: null,
    she: null,
    which: null,
    do: null,
    their: null,
    time: null,
    if: null,
    will: null,
    shall: null,
    way: null,
    about: null,
    many: null,
    then: null,
    them: null,
    write: null,
    would: null,
    like: null,
    so: null,
    these: null,
    her: null,
    long: null,
    make: null,
    thing: null,
    see: null,
    him: null,
    two: null,
    has: null,
    look: null,
    more: null,
    day: null,
    could: null,
    go: null,
    come: null,
    did: null,
    no: null,
    most: null,
    my: null,
    over: null,
    know: null,
    than: null,
    call: null,
    first: null,
    who: null,
    may: null,
    down: null,
    side: null,
    been: null,
    now: null,
    find: null,
    any: null,
    new: null,
    part: null,
    take: null,
    get: null,
    place: null,
    made: null,
    where: null,
    after: null,
    back: null,
    little: null,
    only: null,
    came: null,
    show: null,
    every: null,
    good: null,
    me: null,
    our: null,
    under: null,
    upon: null,
    very: null,
    through: null,
    just: null,
    great: null,
    say: null,
    low: null,
    cause: null,
    much: null,
    mean: null,
    before: null,
    move: null,
    right: null,
    too: null,
    same: null,
    tell: null,
    does: null,
    set: null,
    three: null,
    want: null,
    well: null,
    also: null,
    small: null,
    end: null,
    put: null,
    hand: null,
    large: null,
    add: null,
    here: null,
    must: null,
    big: null,
    high: null,
    such: null,
    why: null,
    ask: null,
    men: null,
    went: null,
    kind: null,
    need: null,
    try: null,
    us: null,
    again: null,
    near: null,
    should: null,
    still: null,
    between: null,
    never: null,
    last: null,
    let: null,
    though: null,
    might: null,
    saw: null,
    left: null,
    late: null,
    run: null,
    while: null,
    close: null,
    few: null,
    seem: null,
    next: null,
    got: null,
    always: null,
    those: null,
    both: null,
    often: null,
    thus: null,
    not: null,
    into: null,
    inside: null,
    its: null,
    makes: null,
    tenth: null,
    trying: null,
    i: null,
    me: null,
    my: null,
    myself: null,
    we: null,
    our: null,
    ours: null,
    ourselves: null,
    you: null,
    your: null,
    yours: null,
    yourself: null,
    yourselves: null,
    he: null,
    him: null,
    his: null,
    himself: null,
    she: null,
    her: null,
    hers: null,
    herself: null,
    it: null,
    its: null,
    itself: null,
    they: null,
    them: null,
    their: null,
    theirs: null,
    themselves: null,
    what: null,
    which: null,
    who: null,
    whom: null,
    this: null,
    that: null,
    these: null,
    those: null,
    am: null,
    is: null,
    are: null,
    was: null,
    were: null,
    be: null,
    been: null,
    being: null,
    have: null,
    has: null,
    had: null,
    having: null,
    do: null,
    does: null,
    did: null,
    doing: null,
    will: null,
    would: null,
    shall: null,
    should: null,
    can: null,
    could: null,
    may: null,
    might: null,
    must: null,
    ought: null,
    a: null,
    an: null,
    the: null,
    and: null,
    but: null,
    if: null,
    or: null,
    because: null,
    as: null,
    until: null,
    while: null,
    of: null,
    at: null,
    by: null,
    for: null,
    with: null,
    about: null,
    against: null,
    between: null,
    into: null,
    through: null,
    during: null,
    before: null,
    after: null,
    above: null,
    below: null,
    to: null,
    from: null,
    up: null,
    down: null,
    in: null,
    out: null,
    on: null,
    off: null,
    over: null,
    under: null,
    again: null,
    further: null,
    then: null,
    once: null,
    here: null,
    there: null,
    when: null,
    where: null,
    why: null,
    how: null,
    all: null,
    any: null,
    both: null,
    each: null,
    few: null,
    more: null,
    most: null,
    other: null,
    some: null,
    such: null,
    no: null,
    nor: null,
    not: null,
    only: null,
    own: null,
    same: null,
    so: null,
    than: null,
    too: null,
    very: null,
    one: null,
    every: null,
    least: null,
    less: null,
    many: null,
    now: null,
    ever: null,
    never: null,
    say: null,
    says: null,
    said: null,
    also: null,
    get: null,
    go: null,
    goes: null,
    just: null,
    made: null,
    make: null,
    put: null,
    see: null,
    seen: null,
    whether: null,
    like: null,
    well: null,
    back: null,
    even: null,
    still: null,
    way: null,
    take: null,
    since: null,
    another: null,
    however: null,
    two: null,
    three: null,
    four: null,
    five: null,
    first: null,
    second: null,
    new: null,
    old: null,
    high: null,
    long: null
}

function loadChart() {
    
    // set div height accordingly 
    $('#chart_div4').height($(window).height()-45);
    $('#chart_div4').width ($(window).width()*0.9);
    // set resize callback
    $(window).resize(function() {
        $('#chart_div4').height($(window).height()-45);
        $('#chart_div4').width ($(window).width()*0.9);
        kshf.updateLayout();
    });


    kshf.init({
        chartTitle: "XParty - Why did you decide to take Paths to CS?",
        domID : "#chart_div4",
        itemName : "answers",
        dirRoot: "../",
        categoryTextWidth:143,
        source : {
            dirPath: 'data/',
            fileType: 'tsv',
            sheets : [
                {name:"xparty_results", tableName: "results"}
            ]
        },
        charts: [
            {
                facetTitle: "Categories",
                catItemMap : function(answer){ 
                    return answer.data[0]; 
                },
                filter: { rowConj: 'of type' },
            },
            {
                facetTitle: "Tags",
                catItemMap : function(answer){ 
                    var words = answer.data[2].split(" ");
                    var newwords = [];
                    for(var i=0; i<words.length ; i++){
                        var w=words[i].toLowerCase();
                        if(w==="") continue;
                        if(stopWords[w]===undefined) {
                            newwords.push(w);
                        }
                    }
                    return newwords;
                },
                filter: { rowConj: 'of type' },
            },
            {
                facetTitle: "Students",
                catItemMap : function(answer){ 
                    return answer.data[3];
                },
                catDispCountFix: 5,
                filter: { rowConj: 'of type' },
            }
        ],
        list: {
            sortColWidth: 75,
            sortOpts : [
                {   name: 'Categories',
                    value: function(answer){ return answer.data[0]; }
                }
            ],
            contentFunc : function(d){
                var j;
                var str="";
                str+="<div class=\"iteminfo iteminfo_0\">"+d.data[2]+"</div>";/*
                str+="<div class=\"iteminfo iteminfo_1\">Group under: ";
                var cats = qCats[d.data[0]];
                if(cats===undefined) str+="none"; else
                for(var i=0;i<cats.length;i++){
                    str+=cats[i]+" , ";
                }
                str+="</div";
                // name
/*                    str+="<div class=\"iteminfo iteminfo_0\">Player: "+
                        "<a target=\"_blank\" href=\"http://retrosheet.org/boxesetc/"+d.data[2][0]+"/P"+d.data[2]+".htm\">"+d.data[2]+"</a></div>";
                // type
                    str+="   Type: "+kshf.dt_id.baseball_trantype[d.data[3]].data[1]+"</div>";
                // team from & to
                    str+="<div class=\"iteminfo iteminfo_1\">Teams: From "+d.data[4]+" to "+d.data[5]+"</div>";
  */              return str;
            }
        }
    });
}

// Set a callback to run when the Google Visualization API is loaded.
$(document).ready(loadChart);

</script>
<style>

.iteminfo a{
    color:#606060;
    font-style:italic;
}

#chart_div4 rect.bar_style_teamleague_AL{ fill: #4D8B4D; }
#chart_div4 rect.bar_style_teamleague_NL{ fill: #FCC240; }

#chart_div4 {
    margin: 0 auto;
}

body{ margin:2px; }

</style>
	</head>

	<body>
		<div id="chart_div4"></div>
	</body>
    
</html>